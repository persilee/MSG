<extend name="Public/base"/>

<block name="header">
    <ul class="nav nav-pills nav-justified steps">
        <li class="active">
            <a href="#" data-toggle="tab" class="wiz-step">
                <span class="step-number">1</span>
                <span class="step-name"> 安装协议 </span>   
            </a>
        </li>
        <li class="active">
            <a href="#" data-toggle="tab" class="wiz-step">
                <span class="step-number">2</span>
                <span class="step-name"> 环境检测 </span>   
            </a>
        </li>
        <li>
            <a href="#" data-toggle="tab" class="wiz-step">
                <span class="step-number">3</span>
                <span class="step-name"> 创建数据库 </span>   
            </a> 
        </li>
        <li>
            <a href="#" data-toggle="tab" class="wiz-step">
                <span class="step-number">4</span>
                <span class="step-name"> 安装 </span>   
            </a> 
        </li>
        <li>
            <a href="#" data-toggle="tab" class="wiz-step">
                <span class="step-number">5</span>
                <span class="step-name"> 完成 </span>   
            </a> 
        </li>
    </ul>
</block>

<block name="progress">
    <div class="progress progress-striped active">
        <div class="progress-bar"  role="progressbar" aria-valuenow="2" aria-valuemin="0" aria-valuemax="5" style="width: 40%"></div>
    </div>
</block>

<block name="body">
    <h1>环境检测</h1>
    <table class="table">
        <caption><h2>运行环境检查</h2></caption>
        <thead>
            <tr>
                <th>项目</th>
                <th>所需配置</th>
                <th>当前配置</th>
            </tr>
        </thead>
        <tbody>
            <volist name="env" id="item">
                <tr>
                    <td>{$item[0]}</td>
                    <td>{$item[1]}</td>
                    <!-- <td><i class="ico-{$item[4]}">&nbsp;</i>{$item[3]}</td>-->
                    <td>
                        <eq name="item.4" value="success">
                            <span class="label label-success">
                        <else/>
                            <span class="label label-danger">
                        </eq>
                        {$item[3]}</span>
                    </td>
                </tr>
            </volist>
        </tbody>
    </table>
    <table class="table">
        <caption><h2>依赖性</h2></caption>
        <thead>
            <tr>
                <th>名称</th>
				<th>类型</th>
                <th>检查结果</th>
            </tr>
        </thead>
        <tbody>
            <volist name="func" id="item">
                <tr>
                    <td>{$item[0]}</td>
					<td>{$item[3]}</td>
                    <!-- <td><i class="ico-{$item[2]}">&nbsp;</i>{$item[1]}</td> -->
                    <td>
                        <eq name="item.2" value="success">
                            <span class="label label-success">
                        <else/>
                            <span class="label label-danger">
                        </eq>
                        {$item[1]}</span>
                    </td>
                </tr>
            </volist>
        </tbody>
    </table>
	<present name="dirfile">
    <table class="table">
        <caption><h2>目录、文件权限检查</h2></caption>
        <thead>
            <tr>
                <th>目录/文件</th>
                <th>所需状态</th>
                <th>当前状态</th>
            </tr>
        </thead>
        <tbody>
            <volist name="dirfile" id="item">
                <tr>
                    <td>{$item[3]}</td>
                    <td><i class="ico-success">&nbsp;</i>可写</td>
                    <!-- <td><i class="ico-{$item[2]}">&nbsp;</i>{$item[1]}</td>    -->
                    <td>
                        <eq name="item.2" value="success">
                            <span class="label label-success">
                        <else/>
                            <span class="label label-danger">
                        </eq>
                        {$item[1]}</span>
                    </td>
                </tr>
            </volist>
        </tbody>
    </table>
	</present>
</block>

<block name="footer">
    <a class="btn btn-primary btn-large" href="{:U('Index/index')}"><i class="fa fa-arrow-left"></i> 上一步</a>
    &nbsp;&nbsp;&nbsp;&nbsp;
    <a class="btn btn-success btn-large" href="{:U('Install/step2')}" <eq name="Think.session.error" value="1">disabled</eq>>下一步 <i class="fa fa-arrow-right"></i></a>
</block>
